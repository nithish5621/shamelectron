import { findPattern } from "@/lib/findPattern";
import { FixedStatus, type AppMeta } from "../../types";

export const ScreenStudioBeta: AppMeta = {
  icon: "data:image/png;base64,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",
  id: "screen-studio-beta",
  friendlyName: "Screen Studio (Beta)",
  twitter: "screenstudio",
  async checkIsFixed() {
    const url = await fetch(
      "https://screen.studio/api/trpc/updates.checkForUpdates?input={%22architecture%22:%22arm64%22,%22currentVersion%22:%220.0.0%22,%22channel%22:%22beta%22}"
    )
      .then((res) => res.json())
      .then((data) => data.result.data.downloadUrl);
    const pat = "_cornerMask";
    const result = await findPattern(url, pat);
    return result?.found ? FixedStatus.NOT_FIXED : FixedStatus.FIXED;
  },
};
